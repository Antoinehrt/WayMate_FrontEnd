<div class="container">
  <button (click)="edit()">Mode édition</button>
  <div class="content">
    <form #form="ngForm" (ngSubmit)="send()">
      <h1>Informations personnelles</h1>
      <input type="submit" [hidden]="!editMode" [disabled]="form.invalid">
      <div class="row">
        <div class="interior">
          <p><span class="titre">Nom</span> :
            <span [hidden]="editMode">{{user.lastName}}</span>
            <input [(ngModel)]="user.lastName"
                   [hidden]="!editMode"
                   name="lastName"
                   required
                   #lastNameEl="ngModel"></p>
          <span *ngIf="lastNameEl.dirty &&  lastNameEl.invalid">Doit être complété</span>
        </div>
        <div class="interior">
          <p><span class="titre">Prénom</span> :
            <span [hidden]="editMode">{{user.firstName}}</span>
            <input [(ngModel)]="user.firstName"
                   [hidden]="!editMode"
                   name="firstName"
                   required
                   #firstNameEl="ngModel"></p>
          <span *ngIf="firstNameEl.dirty &&  firstNameEl.invalid">Doit être complété</span>
        </div>
        <div class="interior">
          <p><span class="titre">Date de Naissance</span> :
            <span [hidden]="editMode">{{user.birthdate}}</span>
            <input [(ngModel)]="user.birthdate"
                   [hidden]="!editMode"
                   name="birthdate"
                   pattern="^(0[1-9]|[1-2][0-9]|3[0-1])\/(0[1-9]|1[0-2])\/(19[0-9][0-9]|20[0-9][0-9])$"
                   required
                   #birthdateEl="ngModel"></p>
          <span *ngIf="birthdateEl.dirty && birthdateEl.invalid">Format de date invalide (JJ/MM/AAAA)</span>
        </div>
        <div class="interior">
          <p><span class="titre">Genre</span> :
            <label>
              <input type="radio" [(ngModel)]="user.gender" name="gender" value="F" [hidden]="!editMode"> F
            </label>
            <label>
              <input type="radio" [(ngModel)]="user.gender" name="gender" value="M" [hidden]="!editMode"> M
            </label>
            <span [hidden]="editMode">{{ user.gender === 'F' ? 'F' : 'M' }}</span>
          </p>
        </div>
      </div>
      <br>
      <div class="row">
        <div class="interior">
          <p><span class="titre">Rue</span> :
            <span [hidden]="editMode">{{user.address.street}}</span>
            <input [(ngModel)]="user.address.street"
                   [hidden]="!editMode"
                   name="street"
                   required
                   #streetEl="ngModel"></p>
          <span *ngIf="streetEl.dirty &&  streetEl.invalid">Doit être complété</span>
        </div>
        <div class="interior">
          <p><span class="titre">Numéro</span> :
            <span [hidden]="editMode">{{user.address.number}}</span>
            <input [(ngModel)]="user.address.number"
                   [hidden]="!editMode"
                   name="number"
                   required
                   #numberEl="ngModel"></p>
          <span *ngIf="numberEl.dirty &&  numberEl.invalid">Doit être complété</span>
        </div>
        <div class="interior">
          <p><span class="titre">Code Postal</span> :
            <span [hidden]="editMode">{{user.address.postalCode}}</span>
            <input [(ngModel)]="user.address.postalCode"
                   [hidden]="!editMode"
                   name="postCode"
                   pattern="[0-9]{4}"
                   required
                   #postCodeEl="ngModel"> </p>
          <span *ngIf="postCodeEl.dirty &&  postCodeEl.invalid">4 chiffres uniquement</span>
        </div>
        <div class="interior">
          <p><span class="titre">Ville</span> :
            <span [hidden]="editMode">{{user.address.city}}</span>
            <input [(ngModel)]="user.address.city"
                   [hidden]="!editMode"
                   name="city"
                   required
                   #cityEl="ngModel"></p>
          <span *ngIf="cityEl.dirty &&  cityEl.invalid">Doit être complété</span>
        </div>
      </div>
      <br>
      <div class="row">
        <div class="interior">
          <p><span class="titre">Numéro de téléphone</span> :
            <span [hidden]="editMode">{{user.phoneNumber}}</span>
            <input [(ngModel)]="user.phoneNumber"
                   [hidden]="!editMode"
                   pattern="[0][4][0-9]{8}"
                   name="phone"
                   required
                   #phoneEl="ngModel"></p>
          <span *ngIf="phoneEl.dirty &&  phoneEl.invalid">Format : 04xxxxxxxx</span>
        </div>
        <div class="interior">
          <p><span class="titre">Email</span> :
            <span [hidden]="editMode">{{user.email}}</span>
            <input [(ngModel)]="user.email"
                   [hidden]="!editMode"
                   name="email"
                   type="email"
                   pattern="[^@\s]+@[^@\s]+\.[^@\s]+"
                   required
                   #emailEl="ngModel"></p>
          <span *ngIf="emailEl.dirty &&  emailEl.invalid">Format : x@x.x</span>
        </div>
      </div>
    </form>
  </div>
</div>

